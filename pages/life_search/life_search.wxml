<view class="search-page">

<!-- é¡¶éƒ¨æœç´¢æ¡† -->
<view class="search-input-box">
  <input placeholder="Search..." bindinput="onInput" bindconfirm="onSearch" confirm-type="search" value="{{keyword}}"/>
  <button bindtap="onSearch">Search</button>
</view>

<!-- ç€‘å¸ƒæµå¸–å­ -->
<view class="waterfall-wrapper" wx:if="{{loaded}}">
  
  <!-- å·¦åˆ— -->
  <view class="waterfall-column left">
    <view class="post-item" 
          wx:for="{{leftColumn}}" 
          wx:key="id"
          data-id="{{item.id}}"
          bindtap="goDetail">

      <view class="post-image-wrapper">
        <image class="post-image" src="{{item.images[0]}}" mode="aspectFill" lazy-load="{{true}}" />
      </view>

      <view class="post-info">
        <text class="post-title">{{item.title}}</text>
        <text class="post-desc">{{item.content}}</text>

        <view class="user-info">
          <image class="user-avatar" src="{{item.author.avatar || '/images/default.jpg'}}" />
          <text class="user-name">{{item.author.nickname || 'User'}}</text>
        </view>

        <view class="post-stats">
          <text class="stat-item">â™¥ {{item.like_count || 0}}</text>
          <text class="stat-item">ðŸ’¬ {{item.comment_count || 0}}</text>
        </view>
      </view>

    </view>
  </view>

  <!-- å³åˆ— -->
  <view class="waterfall-column right">
    <view class="post-item" 
          wx:for="{{rightColumn}}" 
          wx:key="id"
          data-id="{{item.id}}"
          bindtap="goDetail">

      <view class="post-image-wrapper">
        <image class="post-image" src="{{item.images[0]}}" mode="aspectFill" lazy-load="{{true}}" />
      </view>

      <view class="post-info">
        <text class="post-title">{{item.title}}</text>
        <text class="post-desc">{{item.content}}</text>

        <view class="user-info">
          <image class="user-avatar" src="{{item.author.avatar || '/pages/images/default.jpg'}}" />
          <text class="user-name">{{item.author.nickname || 'User'}}</text>
        </view>

        <view class="post-stats">
          <text class="stat-item">â™¥ {{item.like_count || 0}}</text>
          <text class="stat-item">ðŸ’¬ {{item.comment_count || 0}}</text>
        </view>
      </view>

    </view>
  </view>
</view>

<!-- æœç´¢ä¸ºç©ºæ—¶ -->
<view wx:if="{{loaded && leftColumn.length === 0 && rightColumn.length === 0}}" class="empty">
  No results
</view>
</view>
